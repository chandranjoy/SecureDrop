from fastapi import FastAPI
from fastapi.staticfiles import StaticFiles

from app.database import Base, engine
from app.routes.admin_web import router as admin_web_router
from app.routes.admin import router as admin_api_router
from app.routes.files import router as files_router
from app.routes.client_web import router as client_router

Base.metadata.create_all(bind=engine)

app = FastAPI(title="Zforto Secure Share")

# Static files (CSS)
app.mount("/static", StaticFiles(directory="app/static"), name="static")

# Routers
app.include_router(admin_web_router)
app.include_router(admin_api_router)
app.include_router(files_router)
app.include_router(client_router)
